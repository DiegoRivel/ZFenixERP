from django.shortcuts import render, redirectfrom django.template.loader import get_templatefrom django.template import Contextfrom django.http import HttpResponsefrom django.http import HttpResponseRedirectfrom django.shortcuts import renderfrom django_tables2 import RequestConfigfrom .models import ProductoTiendafrom .tables import tablaProducto,tablaProducto2from  zget.Apps.Ubicaciones.models import Tiendafrom  zget.Apps.Ubicaciones.models import ProductoTiendafrom .forms import *import datetime# Create your views here.def index(request):    #ahora = datetime.datetime.now()    nombre = request.GET['Nombre']    if 'Nombre' in request.GET and request.GET['Nombre']:        datosTab = ProductoTienda.objects.filter(            Nombre__startswith=nombre        ).values('Nombre', 'Tienda', 'Precio')        tabla3 = ProductoTienda.objects.filter(Nombre__startswith=nombre).values('Nombre', 'Tienda', 'Precio', "Descripcion", "imagen", "MarcaProd")        tienda = Tienda.objects.filter(Nombre__startswith='AutoZone').values('urlDireccion')        tabla2 = tablaProducto2(datosTab)        resultado = ""        tabla = tablaProducto(ProductoTienda.objects.all())        RequestConfig(request).configure(tabla)        #return render(request, 'inicio1.html', {'fecha_actual': request.GET['Nombre']})        return render(request, 'inicio2.html', {"datos2": tabla3})    else:        return render(request,'inicio1.html',{'fecha_actual': tabla3})def mapGoogle(request):    #ahora = datetime.datetime.now()    #nombre = request.POST["Mapa"]    tabla3 = ProductoTienda.objects.filter(Nombre__startswith="Bal").values('Nombre', 'Tienda', 'Precio')    if 'Mapa' in request.GET:        idTienda = request.GET['Mapa']        nombre = Tienda.objects.filter(id=idTienda).values('urlDireccion')        return render(request, 'maps.html', {'table': nombre[0]})    else:        return render(request, 'inicio.html', {'nombre': tabla3})def formBuscarRefaccion(request):    searchBar = SearchBar(request, ['name', 'age'])def success(request):    return HttpResponse('successfuly uploaded')def get_name(request):    # if this is a POST request we need to process the form data    if request.method == 'POST':        # create a form instance and populate it with data from the request:        form = NameForm(request.POST)        # check whether it's valid:        if(form.is_valid()):            datos = form.cleaned_data['Nombre']            # process the data in form.cleaned_data as required            # ...            # redirect to a new URL:            return HttpResponseRedirect('hola/')    # if a GET (or any other method) we'll create a blank form    else:        form = NameForm()        return render(request, 'Forminicio.html', {'form': form})